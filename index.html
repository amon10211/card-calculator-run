<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>跑牌值計算器 Pro V3 - 數據監控版</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="stats-panel">
            <h3>牌組消耗監測</h3>
            <div class="card-counters" id="cardCounters">
                </div>
            <div class="ratio-bars">
                <div class="bar-item">
                    <div class="bar-info"><span>小牌 (A-5)</span> <span id="smallPercent">0%</span></div>
                    <div class="progress-bg"><div id="smallBar" class="progress-fill small-color"></div></div>
                </div>
                <div class="bar-item">
                    <div class="bar-info"><span>大牌 (6-9)</span> <span id="bigPercent">0%</span></div>
                    <div class="progress-bg"><div id="bigBar" class="progress-fill big-color"></div></div>
                </div>
                <div class="bar-item">
                    <div class="bar-info"><span>零點 (10-K)</span> <span id="zeroPercent">0%</span></div>
                    <div class="progress-bg"><div id="zeroBar" class="progress-fill zero-color"></div></div>
                </div>
            </div>
        </div>

        <div class="main-display">
            <div class="suggestion-box">
                建議：<span id="recommendation">—</span>
            </div>

            <div class="card-slots">
                <div class="row top-row">
                    <div class="slot" data-label="閒1"></div>
                    <div class="slot" data-label="閒2"></div>
                    <div class="slot" data-label="莊1"></div>
                    <div class="slot" data-label="莊2"></div>
                </div>
                <div class="row bottom-row">
                    <div class="slot" data-label="閒3"></div>
                    <div class="slot" data-label="莊3"></div>
                </div>
            </div>

            <div class="keypad">
                <button class="key" onclick="inputCard('A')">A</button>
                <button class="key" onclick="inputCard('2')">2</button>
                <button class="key" onclick="inputCard('3')">3</button>
                <button class="key" onclick="inputCard('4')">4</button>
                <button class="key" onclick="inputCard('5')">5</button>
                <button class="key" onclick="inputCard('6')">6</button>
                <button class="key" onclick="inputCard('7')">7</button>
                <button class="key" onclick="inputCard('8')">8</button>
                <button class="key" onclick="inputCard('9')">9</button>
                <button class="key" onclick="inputCard('10')">10</button>
                <button class="key" onclick="inputCard('J')">J</button>
                <button class="key" onclick="inputCard('Q')">Q</button>
                <button class="key" onclick="inputCard('K')">K</button>
            </div>

            <div class="controls">
                <button class="f-btn highlight" id="skipSettleBtn" onclick="handleSkipOrSettle()">不補牌</button>
                <button class="f-btn" onclick="undo()">上一步</button>
                <button class="f-btn" onclick="resetRound()">重置單局</button>
                <button class="f-btn" onclick="location.reload()">重新開始</button>
            </div>
        </div>

        <div class="history-panel">
            <div class="history-header">
                牌局紀錄 (<span id="count">0</span>)
                <button onclick="clearHistory()">清空</button>
            </div>
            <div id="historyList" class="history-list"></div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>